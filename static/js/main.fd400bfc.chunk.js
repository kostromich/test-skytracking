(this["webpackJsonptest-skytracking"]=this["webpackJsonptest-skytracking"]||[]).push([[0],{42:function(e,n,t){e.exports=t(57)},57:function(e,n,t){"use strict";t.r(n);var r,a=t(0),o=t.n(a),c=t(19),i=t.n(c),u=t(18),l=t(6),s=t(1),f=t(17),b=t(58),d=t(22),h=t(16),p={isInitialized:!1,photos:{},activePhoto:void 0},v=Object(h.b)(p,(r={},Object(d.a)(r,"global/SET_IS_INITIALIZED",(function(e,n){e.isInitialized=n.payload})),Object(d.a)(r,"global/SET_PHOTOS",(function(e,n){e.photos=n.payload})),Object(d.a)(r,"global/SET_ACTIVE_PHOTO",(function(e,n){e.activePhoto=n.payload})),r)),O=Object(h.a)("global/SET_IS_INITIALIZED"),m=Object(h.a)("global/SET_PHOTOS"),j=Object(h.a)("global/SET_ACTIVE_PHOTO"),g=(j(void 0),t(12)),E=t.n(g),x=t(32),y=t(38),w=t(39),I=function(e){return e.global.isInitialized},k=function(e){return e.global.activePhoto},S=function(){return function(e){var n,t,r,a;return E.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return"https://jsonplaceholder.typicode.com/photos",o.next=3,E.a.awrap(fetch("https://jsonplaceholder.typicode.com/photos"));case 3:return n=o.sent,o.next=6,E.a.awrap(n.json());case 6:t=o.sent,r=Object(y.a)(Object(w.a)("id")),a=r(t),e(m(a));case 10:case"end":return o.stop()}}))}},T=function(){return function(e){return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e(Object(x.b)("/")));case 1:case"end":return n.stop()}}))}},_=function(e){return function(n,t){var r,a,o,c,i;return E.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(r=t(),a=k(r)){u.next=4;break}return u.abrupt("return");case 4:if(o=a.id,c=o+e,i=r.global.photos,c in i){u.next=9;break}return u.abrupt("return");case 9:n(Object(x.b)("/".concat(c)));case 10:case"end":return u.stop()}}))}},P=v,A=function(){return Object(s.combineReducers)({global:P})},L=t(4),z=Object(L.b)(),C=t(21),H=t(11),U=l.c,D=t(2),N=t(3);function R(){var e=Object(D.a)(["\n  display: block;\n  height: 150px;\n  width: 150px;\n  @keyframes loaded {\n    0% {\n      opacity: 0.1;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  &.loaded:not(.has-error) {\n    animation: loaded 300ms ease-in-out;\n  }\n\n  &.has-error {\n    content: url(",");\n  }\n"]);return R=function(){return e},e}var B=N.a.img(R(),"https://via.placeholder.com/150"),J=function(e){var n=e.photo,t=Object(a.useState)("https://via.placeholder.com/150"),r=Object(u.a)(t,2),c=r[0],i=r[1],l=Object(a.useState)(),s=Object(u.a)(l,2),f=s[0],b=s[1];return Object(a.useEffect)((function(){var e,t=!1;return f&&c!==n.thumbnailUrl&&(IntersectionObserver?(e=new IntersectionObserver((function(r){r.forEach((function(r){!t&&(r.intersectionRatio>0||r.isIntersecting)&&(i(n.thumbnailUrl),e.unobserve(f))}))}),{threshold:.01,rootMargin:"75%"})).observe(f):i(n.thumbnailUrl)),function(){t=!0,e&&e.unobserve&&f&&e.unobserve(f)}}),[n.thumbnailUrl,c,f]),o.a.createElement(B,{ref:b,src:c,alt:n.title,onLoad:function(e){e.target.classList.add("loaded")},onError:function(e){e.target.classList.add("has-error")}})};function M(){var e=Object(D.a)(["\n  width: 150px;\n  height: 100%;\n"]);return M=function(){return e},e}function V(){var e=Object(D.a)(["\n  flex: none;\n  display: flex;\n  justify-content: center;\n  margin: 5px;\n  width: 150px;\n  height: 150px;\n  border: 2px solid ",";\n\n  &:hover {\n    cursor: pointer;\n    border-color: #000;\n  }\n"]);return V=function(){return e},e}var W=N.a.div(V(),(function(e){return e.active?"#000":"#ccc"})),Z=Object(N.a)(J)(M()),$=function(e){var n=e.photo,t=e.active,r=void 0!==t&&t,a=Object(H.f)();return o.a.createElement(W,{onClick:function(e){e.preventDefault(),a.push("/".concat(n.id))},active:r},o.a.createElement(Z,{photo:n}))};function q(){var e=Object(D.a)(["\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n"]);return q=function(){return e},e}var F=N.a.div(q()),G=function(){var e=U((function(e){return function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2?arguments[2]:void 0,a=Object.values(r.global.photos);if(n<0&&(n=0),t){var o=a.length-n;t>o&&(t=o),e=n+t}else e=a.length-n-10;return a.slice(n,e)}(0,10,e)})),n=U(k);return o.a.createElement(F,null,e.map((function(e){return o.a.createElement($,{photo:e,key:e.id,active:n&&e.id===n.id})})))},K=t(37);function Q(){var e=Object(D.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1001;\n  height: 100%;\n  width: 100%;\n  background: #000;\n  opacity: 0.5\n"]);return Q=function(){return e},e}var X=N.a.div(Q()),Y=function(){var e=Object(l.b)();return o.a.createElement(X,{onClick:function(){e(T())}})};function ee(){var e=Object(D.a)([""]);return ee=function(){return e},e}function ne(){var e=Object(D.a)(["\n  flex: none;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  max-width: 600px;\n  max-height: 600px;\n"]);return ne=function(){return e},e}var te=N.a.div(ne()),re=N.a.picture(ee()),ae=function(e){var n=e.photo;return o.a.createElement(te,null,n?o.a.createElement(re,null,o.a.createElement("source",{srcSet:n.url}),o.a.createElement("img",{src:n.url,alt:n.title})):"Not found")};function oe(){var e=Object(D.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  height: 100%;\n  width: 100%;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return oe=function(){return e},e}var ce=N.a.div(oe()),ie=function(){var e=Object(l.b)();Object(K.a)("keydown",(function(n){"Escape"!==n.key?"ArrowRight"!==n.key?"ArrowLeft"!==n.key||e(_(-1)):e(_(1)):e(T())}));var n=U(k);return o.a.createElement(ce,null,o.a.createElement(Y,null),o.a.createElement(ae,{photo:n}))},ue=function(){var e=Object(l.b)(),n=Object(H.g)().photoId,t=U((function(e){return function(e,n){return n.global.photos[e]}(n,e)}));return Object(a.useEffect)((function(){n&&t&&e(j(t))}),[n]),o.a.createElement("div",null,o.a.createElement(G,null),n&&o.a.createElement(ie,null))},le=function(){return U(I)?o.a.createElement(C.a,null,o.a.createElement(H.c,null,o.a.createElement(H.a,{path:"/:photoId?",component:ue}))):null},se=function(){var e=Object(l.b)();return Object(a.useEffect)((function(){e((function(e){return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(e(S()));case 2:e(O(!0));case 3:case"end":return n.stop()}}))}))}),[e]),o.a.createElement(le,null)},fe=function(){var e=Object(a.useState)(null),n=Object(u.a)(e,2),t=n[0],r=n[1];return Object(a.useEffect)((function(){r(Object(s.createStore)(A(),Object(s.applyMiddleware)(f.a,Object(b.a)(z))))}),[]),t?o.a.createElement(l.a,{store:t},o.a.createElement(se,null)):null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister().catch(console.error)})).catch(console.error)}},[[42,1,2]]]);
//# sourceMappingURL=main.fd400bfc.chunk.js.map